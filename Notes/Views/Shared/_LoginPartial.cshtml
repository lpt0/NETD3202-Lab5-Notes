@using Microsoft.AspNetCore.Identity
@using Notes.Models

@inject SignInManager<User> SignInManager
@inject UserManager<User> UserManager

@{ 
    /** _LoginPartial.cshtml
     * 
     * This file contains account functionality links for the sidebar.
     * This was originally generated by Visual Studio, but I have changed it
     * to fit in with the style of my site, and the sidebar.
     * 
     * Author: Haran
     * Date: December 13th, 2020
     */
}

@if (SignInManager.IsSignedIn(User))
{
    <!-- User is signed in; show their username -->
<h6>@UserManager.GetUserName(User)</h6>
<ul class="links" id="account">
    <!-- Logout link is handled in the _LogoutFormPartial.cshtml file,
         which gets called at the bottom of the sidebar -->
    <li>
        <!-- Anchor tags in my nav bar have a selector for them; no specific class name or ID -->
        <!-- Manage/modify logged in account details -->
        <a asp-area="Identity" asp-page="/Account/Manage/Index" title="Manage">Manage my account</a>
    </li>
</ul>
}
else
{
    <!-- User is not signed in; display a generic heading -->
<h6>Account</h6>
<ul class="links" id="account">
    <li>
        <a asp-area="Identity" asp-page="/Account/Register" title="Create a new account">Register</a>
    </li>
    <li class="nav-item">
        <a asp-area="Identity" asp-page="/Account/Login" title="Login to an existing account">Login</a>
    </li>
</ul>
}

